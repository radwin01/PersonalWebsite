{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport fuzzaldrin from 'fuzzaldrin-plus';\nimport Downshift from 'downshift';\nimport VirtualList from 'react-tiny-virtual-list';\nimport { Popover } from '../../popover';\nimport { Text } from '../../typography';\nimport { Pane } from '../../layers';\nimport AutocompleteItem from './AutocompleteItem';\n\nvar fuzzyFilter = function fuzzyFilter(items, input) {\n  return fuzzaldrin.filter(items, input);\n};\n\nvar autocompleteItemRenderer = function autocompleteItemRenderer(props) {\n  return React.createElement(AutocompleteItem, props);\n}; // https://github.com/paypal/downshift/issues/164\n\n\nvar Autocomplete = function (_PureComponent) {\n  _inherits(Autocomplete, _PureComponent);\n\n  function Autocomplete() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Autocomplete);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call.apply(_ref, [this].concat(args))), _this), _this.renderResults = function (_ref2) {\n      var width = _ref2.width,\n          inputValue = _ref2.inputValue,\n          highlightedIndex = _ref2.highlightedIndex,\n          selectItemAtIndex = _ref2.selectItemAtIndex,\n          selectedItem = _ref2.selectedItem,\n          getItemProps = _ref2.getItemProps;\n      var _this$props = _this.props,\n          title = _this$props.title,\n          itemSize = _this$props.itemSize,\n          itemsFilter = _this$props.itemsFilter,\n          originalItems = _this$props.items,\n          itemToString = _this$props.itemToString,\n          _renderItem = _this$props.renderItem,\n          popoverMaxHeight = _this$props.popoverMaxHeight,\n          isFilterDisabled = _this$props.isFilterDisabled;\n      var items = isFilterDisabled || inputValue.trim() === '' ? originalItems : itemsFilter(originalItems, inputValue);\n      if (items.length === 0) return null;\n      return React.createElement(Pane, {\n        width: width\n      }, title && React.createElement(Pane, {\n        padding: 8,\n        borderBottom: 'extraMuted'\n      }, React.createElement(Text, {\n        size: 200,\n        color: 'muted',\n        isUppercase: true\n      }, title)), items.length > 0 && React.createElement(VirtualList, {\n        width: '100%',\n        height: Math.min(items.length * itemSize, popoverMaxHeight),\n        itemSize: itemSize,\n        itemCount: items.length,\n        scrollToIndex: highlightedIndex || 0,\n        overscanCount: 3,\n        scrollToAlignment: 'auto',\n        renderItem: function renderItem(_ref3) {\n          var index = _ref3.index,\n              style = _ref3.style;\n          var item = items[index];\n          var itemString = itemToString(item);\n          return _renderItem(getItemProps({\n            item: item,\n            key: itemString,\n            index: index,\n            style: style,\n            children: itemString,\n            onMouseUp: function onMouseUp() {\n              selectItemAtIndex(index);\n            },\n            isSelected: selectedItem === item,\n            isHighlighted: highlightedIndex === index\n          }));\n        }\n      }));\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Autocomplete, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          itemSize = _props.itemSize,\n          renderItem = _props.renderItem,\n          itemsFilter = _props.itemsFilter,\n          popoverMaxHeight = _props.popoverMaxHeight,\n          useSmartPositioning = _props.useSmartPositioning,\n          popoverMinWidth = _props.popoverMinWidth,\n          props = _objectWithoutProperties(_props, ['children', 'itemSize', 'renderItem', 'itemsFilter', 'popoverMaxHeight', 'useSmartPositioning', 'popoverMinWidth']);\n\n      return React.createElement(Downshift, props, function (_ref4) {\n        var isOpen = _ref4.isOpen,\n            inputValue = _ref4.inputValue,\n            getItemProps = _ref4.getItemProps,\n            selectedItem = _ref4.selectedItem,\n            highlightedIndex = _ref4.highlightedIndex,\n            selectItemAtIndex = _ref4.selectItemAtIndex,\n            restDownshiftProps = _objectWithoutProperties(_ref4, ['isOpen', 'inputValue', 'getItemProps', 'selectedItem', 'highlightedIndex', 'selectItemAtIndex']);\n\n        return React.createElement('div', null, React.createElement(Popover, {\n          isOpen: isOpen,\n          minWidth: popoverMinWidth,\n          content: function content(_ref5) {\n            var targetRect = _ref5.targetRect;\n            return _this2.renderResults({\n              width: Math.max(targetRect.width, popoverMinWidth),\n              inputValue: inputValue,\n              getItemProps: getItemProps,\n              selectedItem: selectedItem,\n              highlightedIndex: highlightedIndex,\n              selectItemAtIndex: selectItemAtIndex\n            });\n          },\n          minHeight: 0,\n          animationDuration: 0,\n          useSmartPositioning: useSmartPositioning\n        }, function (_ref6) {\n          var isOpenPopover = _ref6.isOpen,\n              toggle = _ref6.toggle,\n              getRef = _ref6.getRef,\n              key = _ref6.key;\n          return children(_extends({\n            key: key,\n            isOpen: isOpenPopover,\n            toggle: toggle,\n            getRef: getRef,\n            inputValue: inputValue,\n            selectedItem: selectedItem,\n            highlightedIndex: highlightedIndex,\n            selectItemAtIndex: selectItemAtIndex\n          }, restDownshiftProps));\n        }));\n      });\n    }\n  }]);\n\n  return Autocomplete;\n}(PureComponent);\n\nAutocomplete.propTypes = _extends({\n  title: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n  items: PropTypes.array.isRequired,\n  selectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  itemToString: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired,\n  itemSize: PropTypes.number,\n  renderItem: PropTypes.func,\n  itemsFilter: PropTypes.func,\n  isFilterDisabled: PropTypes.bool,\n  popoverMinWidth: PropTypes.number,\n  popoverMaxHeight: PropTypes.number,\n  useSmartPositioning: PropTypes.bool\n}, Downshift.propTypes);\nAutocomplete.defaultProps = {\n  itemToString: function itemToString(i) {\n    return i ? String(i) : '';\n  },\n  itemSize: 32,\n  itemsFilter: fuzzyFilter,\n  isFilterDisabled: false,\n  popoverMinWidth: 200,\n  popoverMaxHeight: 240,\n  useSmartPositioning: false,\n  renderItem: autocompleteItemRenderer\n};\nexport default Autocomplete;","map":{"version":3,"sources":["../../../src/autocomplete/src/Autocomplete.js"],"names":["fuzzyFilter","fuzzaldrin","autocompleteItemRenderer","Autocomplete","PureComponent","propTypes","title","PropTypes","items","isRequired","selectedItem","any","defaultSelectedItem","itemToString","children","itemSize","number","renderItem","func","itemsFilter","isFilterDisabled","bool","popoverMinWidth","popoverMaxHeight","useSmartPositioning","Downshift","defaultProps","i","String","renderResults","width","inputValue","highlightedIndex","selectItemAtIndex","getItemProps","originalItems","Math","index","style","item","itemString","key","onMouseUp","isSelected","isHighlighted","props","isOpen","restDownshiftProps","targetRect","isOpenPopover","toggle","getRef"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport fuzzaldrin from 'fuzzaldrin-plus'\nimport Downshift from 'downshift'\nimport VirtualList from 'react-tiny-virtual-list'\nimport { Popover } from '../../popover'\nimport { Text } from '../../typography'\nimport { Pane } from '../../layers'\nimport AutocompleteItem from './AutocompleteItem'\n\nconst fuzzyFilter = (items, input) => fuzzaldrin.filter(items, input)\n\nconst autocompleteItemRenderer = props => <AutocompleteItem {...props} />\n\n// https://github.com/paypal/downshift/issues/164\nexport default class Autocomplete extends PureComponent {\n  static propTypes = {\n    title: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n    items: PropTypes.array.isRequired,\n    selectedItem: PropTypes.any,\n    defaultSelectedItem: PropTypes.any,\n    itemToString: PropTypes.func.isRequired,\n    children: PropTypes.func.isRequired,\n    itemSize: PropTypes.number,\n    renderItem: PropTypes.func,\n    itemsFilter: PropTypes.func,\n    isFilterDisabled: PropTypes.bool,\n    popoverMinWidth: PropTypes.number,\n    popoverMaxHeight: PropTypes.number,\n    useSmartPositioning: PropTypes.bool,\n    ...Downshift.propTypes\n  }\n\n  static defaultProps = {\n    itemToString: i => (i ? String(i) : ''),\n    itemSize: 32,\n    itemsFilter: fuzzyFilter,\n    isFilterDisabled: false,\n    popoverMinWidth: 200,\n    popoverMaxHeight: 240,\n    useSmartPositioning: false,\n    renderItem: autocompleteItemRenderer\n  }\n\n  renderResults = ({\n    width,\n    inputValue,\n    highlightedIndex,\n    selectItemAtIndex,\n    selectedItem,\n    getItemProps\n  }) => {\n    const {\n      title,\n      itemSize,\n      itemsFilter,\n      items: originalItems,\n      itemToString,\n      renderItem,\n      popoverMaxHeight,\n      isFilterDisabled\n    } = this.props\n\n    const items =\n      isFilterDisabled || inputValue.trim() === ''\n        ? originalItems\n        : itemsFilter(originalItems, inputValue)\n\n    if (items.length === 0) return null\n\n    return (\n      <Pane width={width}>\n        {title && (\n          <Pane padding={8} borderBottom=\"extraMuted\">\n            <Text size={200} color=\"muted\" isUppercase>\n              {title}\n            </Text>\n          </Pane>\n        )}\n        {items.length > 0 && (\n          <VirtualList\n            width=\"100%\"\n            height={Math.min(items.length * itemSize, popoverMaxHeight)}\n            itemSize={itemSize}\n            itemCount={items.length}\n            scrollToIndex={highlightedIndex || 0}\n            overscanCount={3}\n            scrollToAlignment=\"auto\"\n            renderItem={({ index, style }) => {\n              const item = items[index]\n              const itemString = itemToString(item)\n              return renderItem(\n                getItemProps({\n                  item,\n                  key: itemString,\n                  index,\n                  style,\n                  children: itemString,\n                  onMouseUp: () => {\n                    selectItemAtIndex(index)\n                  },\n                  isSelected: selectedItem === item,\n                  isHighlighted: highlightedIndex === index\n                })\n              )\n            }}\n          />\n        )}\n      </Pane>\n    )\n  }\n\n  render() {\n    const {\n      children,\n      itemSize,\n      renderItem,\n      itemsFilter,\n      popoverMaxHeight,\n      useSmartPositioning,\n      popoverMinWidth,\n      ...props\n    } = this.props\n\n    return (\n      <Downshift {...props}>\n        {({\n          isOpen,\n          inputValue,\n          getItemProps,\n          selectedItem,\n          highlightedIndex,\n          selectItemAtIndex,\n          ...restDownshiftProps\n        }) => (\n          <div>\n            <Popover\n              isOpen={isOpen}\n              minWidth={popoverMinWidth}\n              content={({ targetRect }) =>\n                this.renderResults({\n                  width: Math.max(targetRect.width, popoverMinWidth),\n                  inputValue,\n                  getItemProps,\n                  selectedItem,\n                  highlightedIndex,\n                  selectItemAtIndex\n                })\n              }\n              minHeight={0}\n              animationDuration={0}\n              useSmartPositioning={useSmartPositioning}\n            >\n              {({ isOpen: isOpenPopover, toggle, getRef, key }) =>\n                children({\n                  key,\n                  isOpen: isOpenPopover,\n                  toggle,\n                  getRef,\n                  inputValue,\n                  selectedItem,\n                  highlightedIndex,\n                  selectItemAtIndex,\n                  ...restDownshiftProps\n                })\n              }\n            </Popover>\n          </div>\n        )}\n      </Downshift>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}