{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { css } from 'ui-box';\nimport Transition from 'react-transition-group/Transition';\nimport { Pane } from '../../layers';\nimport { Portal } from '../../portal';\nimport { Heading } from '../../typography';\nimport { IconButton } from '../../buttons';\nvar animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\nvar ANIMATION_DURATION = 240;\nvar openAnimation = css.keyframes('openAnimation', {\n  from: {\n    transform: 'translateY(100%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\nvar closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\nvar animationStyles = {\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: openAnimation + ' ' + ANIMATION_DURATION + 'ms ' + animationEasing.spring + ' both'\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: closeAnimation + ' 120ms ' + animationEasing.acceleration + ' both'\n  }\n};\n\nvar CornerDialog = function (_PureComponent) {\n  _inherits(CornerDialog, _PureComponent);\n\n  function CornerDialog() {\n    _classCallCheck(this, CornerDialog);\n\n    var _this = _possibleConstructorReturn(this, (CornerDialog.__proto__ || Object.getPrototypeOf(CornerDialog)).call(this));\n\n    _this.handleHidden = function () {\n      _this.setState({\n        exiting: false\n      });\n\n      _this.props.onHide();\n\n      if (_this.props.onExited) {\n        var _this$props;\n\n        (_this$props = _this.props).onExited.apply(_this$props, arguments);\n      }\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        exiting: true\n      });\n\n      _this.props.onHide();\n    };\n\n    _this.state = {\n      exiting: false\n    };\n    return _this;\n  }\n\n  _createClass(CornerDialog, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          width = _props.width,\n          height = _props.height,\n          hasCloseIcon = _props.hasCloseIcon,\n          containerProps = _props.containerProps,\n          isShown = _props.isShown,\n          title = _props.title,\n          onExit = _props.onExit,\n          onExiting = _props.onExiting,\n          onEnter = _props.onEnter,\n          onEntering = _props.onEntering,\n          onEntered = _props.onEntered;\n      var exiting = this.state.exiting;\n      return React.createElement(Portal, null, React.createElement(Transition, {\n        appear: true,\n        unmountOnExit: true,\n        timeout: ANIMATION_DURATION,\n        'in': isShown && !exiting,\n        onExit: onExit,\n        onExiting: onExiting,\n        onExited: this.handleHidden,\n        onEnter: onEnter,\n        onEntering: onEntering,\n        onEntered: onEntered\n      }, function (state) {\n        return React.createElement(Pane, _extends({\n          role: 'dialog',\n          backgroundColor: 'white',\n          elevation: 4,\n          borderRadius: 8,\n          width: width,\n          height: height,\n          css: animationStyles,\n          'data-state': state,\n          position: 'fixed',\n          bottom: 8,\n          right: 8\n        }, containerProps), React.createElement(Pane, {\n          padding: 8,\n          borderBottom: 'extraMuted',\n          display: 'flex',\n          alignItems: 'center'\n        }, React.createElement(Heading, {\n          is: 'h4',\n          size: 500,\n          flex: '1'\n        }, title), hasCloseIcon && React.createElement(IconButton, {\n          height: 24,\n          icon: 'close',\n          appearance: 'ghost',\n          onClick: _this2.handleClose\n        })), React.createElement(Pane, {\n          overflowY: 'auto',\n          'data-state': state,\n          padding: 8\n        }, typeof children === 'function' ? children({\n          close: close\n        }) : children));\n      }));\n    }\n  }]);\n\n  return CornerDialog;\n}(PureComponent);\n\nCornerDialog.propTypes = {\n  title: PropTypes.node,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  isShown: PropTypes.bool,\n  children: PropTypes.node,\n  hasCloseIcon: PropTypes.bool,\n  containerProps: PropTypes.object,\n  onHide: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func\n};\nCornerDialog.defaultProps = {\n  onHide: function onHide() {},\n  width: 320,\n  height: 176,\n  hasCloseIcon: true\n};\nexport default CornerDialog;","map":{"version":3,"sources":["../../../src/corner-dialog/src/CornerDialog.js"],"names":["animationEasing","deceleration","acceleration","spring","ANIMATION_DURATION","openAnimation","from","transform","to","closeAnimation","opacity","animationStyles","animation","CornerDialog","PureComponent","propTypes","title","PropTypes","width","height","isShown","children","hasCloseIcon","containerProps","onHide","onExit","onExiting","onExited","onEnter","onEntering","onEntered","func","defaultProps","exiting","handleClose","close"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { css } from 'ui-box'\nimport Transition from 'react-transition-group/Transition'\nimport { Pane } from '../../layers'\nimport { Portal } from '../../portal'\nimport { Heading } from '../../typography'\nimport { IconButton } from '../../buttons'\n\nconst animationEasing = {\n  deceleration: `cubic-bezier(0.0, 0.0, 0.2, 1)`,\n  acceleration: `cubic-bezier(0.4, 0.0, 1, 1)`,\n  spring: `cubic-bezier(0.175, 0.885, 0.320, 1.175)`\n}\n\nconst ANIMATION_DURATION = 240\n\nconst openAnimation = css.keyframes('openAnimation', {\n  from: {\n    transform: 'translateY(100%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n})\n\nconst closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n})\n\nconst animationStyles = {\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: `${openAnimation} ${ANIMATION_DURATION}ms ${\n      animationEasing.spring\n    } both`\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: `${closeAnimation} 120ms ${animationEasing.acceleration} both`\n  }\n}\n\nexport default class CornerDialog extends PureComponent {\n  static propTypes = {\n    title: PropTypes.node,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    isShown: PropTypes.bool,\n    children: PropTypes.node,\n    hasCloseIcon: PropTypes.bool,\n    containerProps: PropTypes.object,\n\n    onHide: PropTypes.func,\n    onExit: PropTypes.func,\n    onExiting: PropTypes.func,\n    onExited: PropTypes.func,\n    onEnter: PropTypes.func,\n    onEntering: PropTypes.func,\n    onEntered: PropTypes.func\n  }\n\n  static defaultProps = {\n    onHide: () => {},\n    width: 320,\n    height: 176,\n    hasCloseIcon: true\n  }\n\n  constructor() {\n    super()\n\n    this.state = {\n      exiting: false\n    }\n  }\n\n  handleHidden = (...args) => {\n    this.setState({ exiting: false })\n    this.props.onHide()\n\n    if (this.props.onExited) {\n      this.props.onExited(...args)\n    }\n  }\n\n  handleClose = () => {\n    this.setState({ exiting: true })\n    this.props.onHide()\n  }\n\n  render() {\n    const {\n      children,\n      width,\n      height,\n      hasCloseIcon,\n      containerProps,\n      isShown,\n      title,\n      onExit,\n      onExiting,\n      onEnter,\n      onEntering,\n      onEntered\n    } = this.props\n\n    const { exiting } = this.state\n\n    return (\n      <Portal>\n        <Transition\n          appear\n          unmountOnExit\n          timeout={ANIMATION_DURATION}\n          in={isShown && !exiting}\n          onExit={onExit}\n          onExiting={onExiting}\n          onExited={this.handleHidden}\n          onEnter={onEnter}\n          onEntering={onEntering}\n          onEntered={onEntered}\n        >\n          {state => (\n            <Pane\n              role=\"dialog\"\n              backgroundColor=\"white\"\n              elevation={4}\n              borderRadius={8}\n              width={width}\n              height={height}\n              css={animationStyles}\n              data-state={state}\n              position=\"fixed\"\n              bottom={8}\n              right={8}\n              {...containerProps}\n            >\n              <Pane\n                padding={8}\n                borderBottom=\"extraMuted\"\n                display=\"flex\"\n                alignItems=\"center\"\n              >\n                <Heading is=\"h4\" size={500} flex=\"1\">\n                  {title}\n                </Heading>\n                {hasCloseIcon && (\n                  <IconButton\n                    height={24}\n                    icon=\"close\"\n                    appearance=\"ghost\"\n                    onClick={this.handleClose}\n                  />\n                )}\n              </Pane>\n\n              <Pane overflowY=\"auto\" data-state={state} padding={8}>\n                {typeof children === 'function'\n                  ? children({\n                      close\n                    })\n                  : children}\n              </Pane>\n            </Pane>\n          )}\n        </Transition>\n      </Portal>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}