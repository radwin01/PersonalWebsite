{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { Positioner } from '../../positioner';\nimport TooltipStateless from './TooltipStateless';\n\nvar Tooltip = function (_PureComponent) {\n  _inherits(Tooltip, _PureComponent);\n\n  function Tooltip(props, context) {\n    _classCallCheck(this, Tooltip);\n\n    var _this = _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, props, context));\n\n    _this.getTargetRect = function () {\n      return _this.targetNode.getBoundingClientRect();\n    };\n\n    _this.getRef = function (ref) {\n      _this.targetNode = ref;\n    };\n\n    _this.show = function () {\n      if (_this.state.isShown) return;\n\n      _this.setState({\n        isShown: true,\n        targetRect: _this.getTargetRect()\n      });\n    };\n\n    _this.hide = function () {\n      if (!_this.state.isShown) return;\n\n      _this.setState({\n        isShown: false,\n        targetRect: _this.getTargetRect()\n      });\n    };\n\n    _this.state = {\n      isShown: false\n    };\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          isShown = _props.isShown,\n          content = _props.content,\n          children = _props.children,\n          statelessProps = _props.statelessProps,\n          props = _objectWithoutProperties(_props, ['isShown', 'content', 'children', 'statelessProps']);\n\n      var _state = this.state,\n          stateIsShown = _state.isShown,\n          targetRect = _state.targetRect;\n      var shown = isShown || stateIsShown;\n      return [typeof children === 'function' ? children({\n        targetRect: targetRect,\n        show: this.show,\n        hide: this.hide,\n        getRef: this.getRef,\n        isShown: shown,\n        key: 'tooltip-child'\n      }) : React.cloneElement(children, _extends({\n        onMouseEnter: this.show,\n        onMouseLeave: this.hide,\n        innerRef: function innerRef(ref) {\n          _this2.getRef(ref);\n        }\n      }, shown ? {\n        'data-tooltip-opened': true\n      } : {}, {\n        key: 'tooltip-child'\n      })), React.createElement(Positioner, _extends({\n        key: 'tooltip-positioner',\n        targetRect: targetRect,\n        isShown: shown,\n        initialScale: 0.95,\n        targetOffset: 4\n      }, props), function (_ref) {\n        var css = _ref.css,\n            style = _ref.style,\n            state = _ref.state,\n            getRef = _ref.getRef;\n        return React.createElement(TooltipStateless, _extends({\n          innerRef: function innerRef(ref) {\n            return getRef(ref);\n          },\n          'data-state': state,\n          css: css,\n          style: style\n        }, statelessProps), content);\n      })];\n    }\n  }]);\n\n  return Tooltip;\n}(PureComponent);\n\nTooltip.propTypes = _extends({}, Positioner.propTypes, {\n  content: PropTypes.node,\n  isShown: PropTypes.bool,\n  children: PropTypes.node,\n  tooltipProps: PropTypes.object,\n  statelessProps: PropTypes.objectOf(TooltipStateless.propTypes)\n});\nexport default Tooltip;","map":{"version":3,"sources":["../../../src/tooltip/src/Tooltip.js"],"names":["Tooltip","PureComponent","propTypes","Positioner","content","PropTypes","node","isShown","bool","children","tooltipProps","object","statelessProps","TooltipStateless","targetRect","props","stateIsShown","shown","show","hide","getRef","key","onMouseEnter","onMouseLeave","innerRef","css","style","state"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAA,KAAA,IAAA,aAAA,QAAA,OAAA;AACA,OAAA,SAAA,MAAA,YAAA;AACA,SAAA,UAAA,QAAA,kBAAA;AACA,OAAA,gBAAA,MAAA,oBAAA;;IAEqBA,O;;;AAUnB,WAAA,OAAA,CAAA,KAAA,EAAA,OAAA,EAA4B;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,OAAA,CAAA;;AAAA,QAAA,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,CAAA,OAAA,CAAA,SAAA,IAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,OAAA,CAAA,CAAA;;AAAA,IAAA,KAAA,CAAA,aAAA,GAOZ,YAAA;AAAA,aAAM,KAAA,CAAA,UAAA,CAAN,qBAAM,EAAN;AAPY,KAAA;;AAAA,IAAA,KAAA,CAAA,MAAA,GASnB,UAAA,GAAA,EAAO;AACd,MAAA,KAAA,CAAA,UAAA,GAAA,GAAA;AAV0B,KAAA;;AAAA,IAAA,KAAA,CAAA,IAAA,GAarB,YAAM;AACX,UAAI,KAAA,CAAA,KAAA,CAAJ,OAAA,EAAwB;;AACxB,MAAA,KAAA,CAAA,QAAA,CAAc;AACZO,QAAAA,OAAAA,EADY,IAAA;AAEZO,QAAAA,UAAAA,EAAY,KAAA,CAAA,aAAA;AAFA,OAAd;AAf0B,KAAA;;AAAA,IAAA,KAAA,CAAA,IAAA,GAqBrB,YAAM;AACX,UAAI,CAAC,KAAA,CAAA,KAAA,CAAL,OAAA,EAAyB;;AACzB,MAAA,KAAA,CAAA,QAAA,CAAc;AACZP,QAAAA,OAAAA,EADY,KAAA;AAEZO,QAAAA,UAAAA,EAAY,KAAA,CAAA,aAAA;AAFA,OAAd;AAvB0B,KAAA;;AAE1B,IAAA,KAAA,CAAA,KAAA,GAAa;AACXP,MAAAA,OAAAA,EAAS;AADE,KAAb;AAF0B,WAAA,KAAA;AAK3B;;;;6BAwBQ;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UAAA,MAAA,GAC0D,KAD1D,KAAA;AAAA,UACCA,OADD,GAAA,MAAA,CAAA,OAAA;AAAA,UACUH,OADV,GAAA,MAAA,CAAA,OAAA;AAAA,UACmBK,QADnB,GAAA,MAAA,CAAA,QAAA;AAAA,UAC6BG,cAD7B,GAAA,MAAA,CAAA,cAAA;AAAA,UACgDG,KADhD,GAAA,wBAAA,CAAA,MAAA,EAAA,CAAA,SAAA,EAAA,SAAA,EAAA,UAAA,EAAA,gBAAA,CAAA,CAAA;;AAAA,UAAA,MAAA,GAEuC,KAFvC,KAAA;AAAA,UAEUC,YAFV,GAAA,MAAA,CAAA,OAAA;AAAA,UAEwBF,UAFxB,GAAA,MAAA,CAAA,UAAA;AAIP,UAAMG,KAAAA,GAAQV,OAAAA,IAAd,YAAA;AAEA,aAAO,CACL,OAAA,QAAA,KAAA,UAAA,GACI,QAAA,CAAS;AACPO,QAAAA,UAAAA,EADO,UAAA;AAEPI,QAAAA,IAAAA,EAAM,KAFC,IAAA;AAGPC,QAAAA,IAAAA,EAAM,KAHC,IAAA;AAIPC,QAAAA,MAAAA,EAAQ,KAJD,MAAA;AAKPb,QAAAA,OAAAA,EALO,KAAA;AAMPc,QAAAA,GAAAA,EAAK;AANE,OAAT,CADJ,GASI,KAAA,CAAA,YAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AACEC,QAAAA,YAAAA,EAAc,KADhB,IAAA;AAEEC,QAAAA,YAAAA,EAAc,KAFhB,IAAA;AAGEC,QAAAA,QAAAA,EAAU,SAAA,QAAA,CAAA,GAAA,EAAO;AACf,UAAA,MAAA,CAAA,MAAA,CAAA,GAAA;AACD;AALH,OAAA,EAMMP,KAAAA,GAAQ;AAAE,+BAAVA;AAAQ,OAARA,GANN,EAAA,EAAA;AAOEI,QAAAA,GAAAA,EAAK;AAPP,OAAA,CAAA,CAVC,EAmBL,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA,QAAA,CAAA;AACE,QAAA,GAAA,EADF,oBAAA;AAEE,QAAA,UAAA,EAFF,UAAA;AAGE,QAAA,OAAA,EAHF,KAAA;AAIE,QAAA,YAAA,EAJF,IAAA;AAKE,QAAA,YAAA,EAAc;AALhB,OAAA,EAAA,KAAA,CAAA,EAQG,UAAA,IAAA,EAAA;AAAA,YAAGI,GAAH,GAAA,IAAA,CAAA,GAAA;AAAA,YAAQC,KAAR,GAAA,IAAA,CAAA,KAAA;AAAA,YAAeC,KAAf,GAAA,IAAA,CAAA,KAAA;AAAA,YAAsBP,MAAtB,GAAA,IAAA,CAAA,MAAA;AAAA,eACC,KAAA,CAAA,aAAA,CAAA,gBAAA,EAAA,QAAA,CAAA;AACE,UAAA,QAAA,EAAU,SAAA,QAAA,CAAA,GAAA,EAAA;AAAA,mBAAOA,MAAAA,CAAP,GAAOA,CAAP;AADZ,WAAA;AAEE,wBAFF,KAAA;AAGE,UAAA,GAAA,EAHF,GAAA;AAIE,UAAA,KAAA,EAAOM;AAJT,SAAA,EAAA,cAAA,CAAA,EAOGtB,OAPH,CADD;AAAA,OARH,CAnBK,CAAP;AAwCD;;;;EArFkCH,a;;AAAhBD,O,CACZE,SADYF,G,aAEdG,UAAAA,CAAWD,S;AACdE,EAAAA,OAAAA,EAASC,SAAAA,CAAUC,I;AACnBC,EAAAA,OAAAA,EAASF,SAAAA,CAAUG,I;AACnBC,EAAAA,QAAAA,EAAUJ,SAAAA,CAAUC,I;AACpBI,EAAAA,YAAAA,EAAcL,SAAAA,CAAUM,M;AACxBC,EAAAA,cAAAA,EAAgBP,SAAAA,CAAAA,QAAAA,CAAmBQ,gBAAAA,CAAnBR,SAAAA;EAPCL;eAAAA,O","sourcesContent":["import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { Positioner } from '../../positioner'\nimport TooltipStateless from './TooltipStateless'\n\nexport default class Tooltip extends PureComponent {\n  static propTypes = {\n    ...Positioner.propTypes,\n    content: PropTypes.node,\n    isShown: PropTypes.bool,\n    children: PropTypes.node,\n    tooltipProps: PropTypes.object,\n    statelessProps: PropTypes.objectOf(TooltipStateless.propTypes)\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this.state = {\n      isShown: false\n    }\n  }\n\n  getTargetRect = () => this.targetNode.getBoundingClientRect()\n\n  getRef = ref => {\n    this.targetNode = ref\n  }\n\n  show = () => {\n    if (this.state.isShown) return\n    this.setState({\n      isShown: true,\n      targetRect: this.getTargetRect()\n    })\n  }\n\n  hide = () => {\n    if (!this.state.isShown) return\n    this.setState({\n      isShown: false,\n      targetRect: this.getTargetRect()\n    })\n  }\n\n  render() {\n    const { isShown, content, children, statelessProps, ...props } = this.props\n    const { isShown: stateIsShown, targetRect } = this.state\n\n    const shown = isShown || stateIsShown\n\n    return [\n      typeof children === 'function'\n        ? children({\n            targetRect,\n            show: this.show,\n            hide: this.hide,\n            getRef: this.getRef,\n            isShown: shown,\n            key: 'tooltip-child'\n          })\n        : React.cloneElement(children, {\n            onMouseEnter: this.show,\n            onMouseLeave: this.hide,\n            innerRef: ref => {\n              this.getRef(ref)\n            },\n            ...(shown ? { 'data-tooltip-opened': true } : {}),\n            key: 'tooltip-child'\n          }),\n      <Positioner\n        key=\"tooltip-positioner\"\n        targetRect={targetRect}\n        isShown={shown}\n        initialScale={0.95}\n        targetOffset={4}\n        {...props}\n      >\n        {({ css, style, state, getRef }) => (\n          <TooltipStateless\n            innerRef={ref => getRef(ref)}\n            data-state={state}\n            css={css}\n            style={style}\n            {...statelessProps}\n          >\n            {content}\n          </TooltipStateless>\n        )}\n      </Positioner>\n    ]\n  }\n}\n"]},"metadata":{},"sourceType":"module"}